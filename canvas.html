<!DOCTYPE html>
<head>
</head>
<body>
  <div id="log"></div>
  <div>
    <canvas id="myCanvas" width="100" height="800"></canvas>
  </div>
</body>

<script>

function log(data){
  document.getElementById('log').innerHTML += data;
}

function RGBA(data){
  console.log("RGBA Called");
  let a = [...data];
  console.log(a);
  let rgbArr = a.map((d)=> {
    console.log(d);
    if(d==="1"){
      console.log("this is a one");
      return d = [0,0,0];
    }else{
      console.log("this is a zero");
      return d = [255,255,255];
    }
  })
  console.log(rgbArr);
}

/* Decimal to Binary Conversion
function convertBinary(number){
  let binary = "";
  while(number > 0){
    binary = number%2 + binary;
    number = Math.floor(number/2);
  }
  log(binary);
}*/

//Decimal to Binary with all 8 bites//
function convertBinary(number){
  let binary = "";
  for(i=0; i<8; i++){
    binary = number % 2 + binary;
    number = Math.floor(number/2);
  }
  log(binary);
  RGBA(binary);
}

/*function modCanvas(){
  const canvas = document.getElementById("myCanvas");
  const ctx = canvas.getContext('2d');
  var imgdata = ctx.getImageData(0,0, 100, 800);
  var imgdatalen = imgdata.data.length;
  for(var i=0;i<imgdatalen;i++){  //iterate over every pixel in the canvas
    imgdata.data[4*i] = 255;    // RED (0-255)
    imgdata.data[4*i+1] = 0;    // GREEN (0-255)
    imgdata.data[4*i+2] = 0;    // BLUE (0-255)
    imgdata.data[4*i+3] = 255;  // APLHA (0-255)
  }
  ctx.putImageData(imgdata,0,0);
}*/



//websocket//
var ws = new WebSocket('ws://localhost:3000/');

ws.onopen = function() {
  log('connect');
};
ws.onclose = function() {
  log('closed');
};
ws.onmessage = function(event){
  convertBinary(event.data);
  return false;
};

</script>

</html>
